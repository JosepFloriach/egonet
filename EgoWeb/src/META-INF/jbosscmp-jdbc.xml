<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE jbosscmp-jdbc PUBLIC "-//JBoss//DTD JBOSSCMP-JDBC 3.0//EN" "http://www.jboss.org/j2ee/dtd/jbosscmp-jdbc_3_0.dtd">

<jbosscmp-jdbc>
   <defaults>
     <datasource>java:/MySqlDS</datasource>
     <datasource-mapping>mySQL</datasource-mapping>
   </defaults>

   <enterprise-beans>

     <!--
       To add beans that you have deployment descriptor info for, add
       a file to your XDoclet merge directory called jbosscmp-jdbc-beans.xml
       that contains the <entity></entity> markup for those beans.
     -->

      <entity>
         <ejb-name>StudyEJB</ejb-name>

         <table-name>StudyEJB</table-name>

         <cmp-field>
            <field-name>id</field-name>
            <column-name>ID</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>numAlters</field-name>
            <column-name>NUM_ALTERS</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>studyName</field-name>
            <column-name>NAME</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>questionOrder</field-name>
            <column-name>QUESTION_ORDER</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>UIType</field-name>
            <column-name>UI_TYPE</column-name>

        </cmp-field>

      </entity>

      <entity>
         <ejb-name>InterviewEJB</ejb-name>

         <table-name>InterviewEJB</table-name>

         <cmp-field>
            <field-name>id</field-name>
            <column-name>ID</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>firstName</field-name>
            <column-name>FIRST_NAME</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>lastName</field-name>
            <column-name>LAST_NAME</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>complete</field-name>
            <column-name>COMPLETE</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>alters</field-name>
            <column-name>ALTERS</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>adjacencyMatrix</field-name>
            <column-name>ADJACENCY_MATRIX</column-name>

        </cmp-field>

      </entity>

      <entity>
         <ejb-name>SelectionEJB</ejb-name>

         <table-name>SelectionEJB</table-name>

         <cmp-field>
            <field-name>id</field-name>
            <column-name>ID</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>text</field-name>
            <column-name>SELECTION_TEXT</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>value</field-name>
            <column-name>SELECTION_VALUE</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>index</field-name>
            <column-name>SELECTION_INDEX</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>adjacent</field-name>
            <column-name>SELECTION_ADJACENT</column-name>

        </cmp-field>

      </entity>

      <entity>
         <ejb-name>QuestionLinkEJB</ejb-name>

         <table-name>QuestionLinkEJB</table-name>

         <cmp-field>
            <field-name>id</field-name>
            <column-name>ID</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>questionId</field-name>
            <column-name>QUESTION_ID</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>answerValue</field-name>
            <column-name>ANSWER_VALUE</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>answerString</field-name>
            <column-name>ANSWER_STRING</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>active</field-name>
            <column-name>ACTIVE</column-name>

        </cmp-field>

      </entity>

      <entity>
         <ejb-name>QuestionEJB</ejb-name>

         <table-name>QuestionEJB</table-name>

         <cmp-field>
            <field-name>id</field-name>
            <column-name>ID</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>studyId</field-name>
            <column-name>STUDY_ID</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>centralMarker</field-name>
            <column-name>CENTRAL_MARKER</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>questionType</field-name>
            <column-name>QUESTION_TYPE</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>answerType</field-name>
            <column-name>ANSWER_TYPE</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>title</field-name>
            <column-name>TITLE</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>text</field-name>
            <column-name>TEXT</column-name>

            <jdbc-type>VARCHAR</jdbc-type>
            <sql-type>TEXT</sql-type>

        </cmp-field>
         <cmp-field>
            <field-name>citation</field-name>
            <column-name>CITATION</column-name>

        </cmp-field>

      </entity>

      <entity>
         <ejb-name>AnswerEJB</ejb-name>

         <table-name>AnswerEJB</table-name>

         <cmp-field>
            <field-name>id</field-name>
            <column-name>ID</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>timestamp</field-name>
            <column-name>TIMESTAMP</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>alters</field-name>
            <column-name>ALTERS</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>alterPromptState</field-name>
            <column-name>ALTER_PROMPT_STATE</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>answered</field-name>
            <column-name>ANSWERED</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>answerIndex</field-name>
            <column-name>ANSWER_INDEX</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>answerValue</field-name>
            <column-name>ANSWER_VALUE</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>answerString</field-name>
            <column-name>ANSWER_STRING</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>answerAdjacent</field-name>
            <column-name>ANSWER_ADJACENT</column-name>

        </cmp-field>

      </entity>

      <entity>
         <ejb-name>ConfigurationEJB</ejb-name>

         <table-name>ConfigurationEJB</table-name>

         <cmp-field>
            <field-name>id</field-name>
            <column-name>ID</column-name>

        </cmp-field>
         <cmp-field>
            <field-name>serverPassword</field-name>
            <column-name>SERVER_PASSWORD</column-name>

        </cmp-field>

      </entity>

   </enterprise-beans>

  <relationships>
    <ejb-relation>
      <ejb-relation-name>Interview-Has-Answers</ejb-relation-name>

      <foreign-key-mapping/>

      <ejb-relationship-role>
          <ejb-relationship-role-name>Answers-To-Interview</ejb-relationship-role-name>
		  <key-fields/>

      </ejb-relationship-role>
      <ejb-relationship-role>
          <ejb-relationship-role-name>Interview-To-Answers</ejb-relationship-role-name>
          <key-fields>
             <key-field>
               <field-name>id</field-name>
               <column-name>INTERVIEW</column-name>
             </key-field>
          </key-fields>

      </ejb-relationship-role>
    </ejb-relation>
    <ejb-relation>
      <ejb-relation-name>Question-Has-Answers</ejb-relation-name>

      <foreign-key-mapping/>

      <ejb-relationship-role>
          <ejb-relationship-role-name>Answers-To-Question</ejb-relationship-role-name>
		  <key-fields/>

      </ejb-relationship-role>
      <ejb-relationship-role>
          <ejb-relationship-role-name>Question-To-Answers</ejb-relationship-role-name>
          <key-fields>
             <key-field>
               <field-name>id</field-name>
               <column-name>QUESTION</column-name>
             </key-field>
             <key-field>
               <field-name>studyId</field-name>
               <column-name>STUDY_ID</column-name>
             </key-field>
          </key-fields>

      </ejb-relationship-role>
    </ejb-relation>
    <ejb-relation>
      <ejb-relation-name>Configuration-Has-Study</ejb-relation-name>

      <foreign-key-mapping/>

      <ejb-relationship-role>
          <ejb-relationship-role-name>Configuration-To-Study</ejb-relationship-role-name>
		  <key-fields/>

      </ejb-relationship-role>
      <ejb-relationship-role>
          <ejb-relationship-role-name>Study-To-Configuration</ejb-relationship-role-name>
          <key-fields>
             <key-field>
               <field-name>id</field-name>
               <column-name>STUDY</column-name>
             </key-field>
          </key-fields>

      </ejb-relationship-role>
    </ejb-relation>
    <ejb-relation>
      <ejb-relation-name>Question-Has-QuestionLink</ejb-relation-name>

      <foreign-key-mapping/>

      <ejb-relationship-role>
          <ejb-relationship-role-name>QuestionLink-To-Question</ejb-relationship-role-name>
          <key-fields>
             <key-field>
               <field-name>id</field-name>
               <column-name>QUESTION_LINK</column-name>
             </key-field>
          </key-fields>

      </ejb-relationship-role>
      <ejb-relationship-role>
          <ejb-relationship-role-name>Question-To-QuestionLink</ejb-relationship-role-name>
		  <key-fields/>

      </ejb-relationship-role>
    </ejb-relation>
    <ejb-relation>
      <ejb-relation-name>Study-Has-Questions</ejb-relation-name>

      <foreign-key-mapping/>

      <ejb-relationship-role>
          <ejb-relationship-role-name>Question-To-Study</ejb-relationship-role-name>
		  <key-fields/>

      </ejb-relationship-role>
      <ejb-relationship-role>
          <ejb-relationship-role-name>Study-To-Questions</ejb-relationship-role-name>
          <key-fields>
             <key-field>
               <field-name>id</field-name>
               <column-name>STUDY</column-name>
             </key-field>
          </key-fields>

      </ejb-relationship-role>
    </ejb-relation>
    <ejb-relation>
      <ejb-relation-name>Study-Has-Interviews</ejb-relation-name>

      <foreign-key-mapping/>

      <ejb-relationship-role>
          <ejb-relationship-role-name>Interviews-To-Study</ejb-relationship-role-name>
		  <key-fields/>

      </ejb-relationship-role>
      <ejb-relationship-role>
          <ejb-relationship-role-name>Study-To-Interviews</ejb-relationship-role-name>
          <key-fields>
             <key-field>
               <field-name>id</field-name>
               <column-name>STUDY</column-name>
             </key-field>
          </key-fields>

      </ejb-relationship-role>
    </ejb-relation>
    <ejb-relation>
      <ejb-relation-name>Question-Has-Selections</ejb-relation-name>

      <foreign-key-mapping/>

      <ejb-relationship-role>
          <ejb-relationship-role-name>Selection-To-Question</ejb-relationship-role-name>
		  <key-fields/>

      </ejb-relationship-role>
      <ejb-relationship-role>
          <ejb-relationship-role-name>Question-To-Selections</ejb-relationship-role-name>
          <key-fields>
             <key-field>
               <field-name>id</field-name>
               <column-name>QUESTION</column-name>
             </key-field>
             <key-field>
               <field-name>studyId</field-name>
               <column-name>STUDY_ID</column-name>
             </key-field>
          </key-fields>

      </ejb-relationship-role>
    </ejb-relation>
     <!-- 
       To add jboss relationships for beans not managed by XDoclet, add
       a file to your XDoclet merge directory called jbosscmp-jdbc-relationships.xml that contains
       the <ejb-relation></ejb-relation> markups for those beans.
     --> 
  </relationships>

</jbosscmp-jdbc>
